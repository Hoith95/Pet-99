if _G.VARTELE2 then 
    warn("Script Ä‘Ã£ Ä‘Æ°á»£c cháº¡y trÆ°á»›c Ä‘Ã³!")
    return
end
_G.VARTELE2 = true 

-- âš™ï¸ Dá»‹ch vá»¥
local Players = game:GetService("Players")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local LocalPlayer = Players.LocalPlayer

-- ğŸŒ PlaceId cÃ¡c world
local PLACE_WORLD_2 = 16498369169
local PLACE_WORLD_3 = 17503543197
local PLACE_WORLD_4 = 140403681187145

-- ğŸ§­ HÃ m kiá»ƒm tra náº¿u Ä‘ang á»Ÿ World 2/3/4
local function isInTargetWorld()
    return game.PlaceId == PLACE_WORLD_2 or game.PlaceId == PLACE_WORLD_3 or game.PlaceId == PLACE_WORLD_4
end

-- ğŸšª HÃ m kiá»ƒm tra náº¿u chá»‰ cÃ³ 1 mÃ¬nh
local function handleIfInTargetWorld()
    task.wait(5)
    local playerCount = #Players:GetPlayers()
    if playerCount <= 1 then
        return true -- chá»‰ cÃ³ 1 mÃ¬nh â†’ dá»«ng
    else
        LocalPlayer:Kick("CÃ³ ngÆ°á»i khÃ¡c") -- cÃ³ ngÆ°á»i khÃ¡c â†’ kick
        return false
    end
end

-- ğŸ” HÃ m thá»­ teleport + chá» + kiá»ƒm tra PlaceId
local function tryTeleportAndCheck(worldName, targetPlaceId)
    local teleportFunc = ReplicatedStorage:WaitForChild("Network"):WaitForChild(worldName)
    teleportFunc:InvokeServer()
    task.wait(60)
    return game.PlaceId == targetPlaceId
end

-- ğŸš€ Báº¯t Ä‘áº§u logic chÃ­nh
task.spawn(function()
    if isInTargetWorld() then
        if handleIfInTargetWorld() then return end
    else
        -- ğŸ›° Thá»­ teleport láº§n lÆ°á»£t
        if tryTeleportAndCheck("World4Teleport", PLACE_WORLD_4) then
            if handleIfInTargetWorld() then return end
        elseif tryTeleportAndCheck("World3Teleport", PLACE_WORLD_3) then
            if handleIfInTargetWorld() then return end
        elseif tryTeleportAndCheck("World2Teleport", PLACE_WORLD_2) then
            if handleIfInTargetWorld() then return end
        end

        -- âŒ Náº¿u Ä‘áº¿n Ä‘Ã¢y váº«n chÆ°a dá»‹ch chuyá»ƒn Ä‘Æ°á»£c
        LocalPlayer:Kick("Dá»‹ch Chuyá»ƒn Tháº¥t Báº¡i!")
    end
end)
