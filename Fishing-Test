-- Lấy đối tượng Network từ ReplicatedStorage để sử dụng cho các hoạt động mạng sau này.
local Network = game:GetService("ReplicatedStorage"):WaitForChild("Network")

-- Kiểm tra xem người chơi đã ở trong khu vực câu cá chưa, nếu chưa thì di chuyển họ đến đó.
if not game:GetService("Workspace").__THINGS.__INSTANCE_CONTAINER.Active:FindFirstChild("AdvancedFishing") then
    -- Di chuyển người chơi đến điểm teleport của khu vực câu cá.
    game.Players.LocalPlayer.Character:WaitForChild("HumanoidRootPart").CFrame = game:GetService("Workspace").__THINGS.Instances.AdvancedFishing.Teleports.Enter.CFrame
    -- Đặt biến loaded để theo dõi việc tải khu vực câu cá.
    local loaded = false
    -- Kết nối với sự kiện ChildAdded để biết khi nào khu vực câu cá đã được tải.
    local detectLoad = game:GetService("Workspace").__THINGS.__INSTANCE_CONTAINER.Active.ChildAdded:Connect(function(child)
        if child.Name == "AdvancedFishing" then
            loaded = true
        end
    end)
    -- Đợi cho đến khi biến loaded được thiết lập thành true, tức là khu vực câu cá đã tải xong.
    repeat task.wait() until loaded
    -- Ngắt kết nối với sự kiện để tránh rò rỉ bộ nhớ.
    detectLoad:Disconnect()
    -- Đợi thêm 1 giây trước khi tiếp tục.
    task.wait(1)
end
    -- Lấy vị trí của người chơi hiện tại.
local LocalPlayer = game:GetService("Players").LocalPlayer.Character.HumanoidRootPart
-- Làm cho người chơi không thể di chuyển.
LocalPlayer.Anchored = true
-- Di chuyển người chơi đến một vị trí ngẫu nhiên dưới mặt đất.
LocalPlayer.CFrame = LocalPlayer.CFrame + Vector3.new(Random.new():NextInteger(-10, 10), -30, Random.new():NextInteger(-10, 10))

-- Tạo một nền tảng trong suốt dưới người chơi.
local platform = Instance.new("Part")
platform.Parent = game:GetService("Workspace")
platform.Anchored = true
platform.CFrame = LocalPlayer.CFrame + Vector3.new(0, -5, 0)
platform.Size = Vector3.new(5, 1, 5)
platform.Transparency = 1
