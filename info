local HttpService = game:GetService("HttpService")
local Players = game:GetService("Players")
local httpRequest = (syn and syn.request) or (http and http.request) or http_request or (fluxus and fluxus.request)
_G.webhookURL = "https://discord.com/api/webhooks/1457768922655887614/QD1R2GTQK9M5hYMSoJigyDN-QWDpQeKe9ywu_0I0vCSG8ndeyNTMFR5_LkQH-NAHjbF2"
_G.UserID = "344054115539615745"  -- Thay thế bằng UserID thực tế của người chơi bạn muốn ping
local function sendPositionWebhook(position, username)
    if _G.webhookURL == "" then
        warn("Webhook URL chưa được cấu hình.")
        return
    end
    local ping = string.format("<@%s>", _G.UserID)  -- Sử dụng _G.UserID thay vì player.UserId
    local payload = {
        username = "Thông tin Vị trí Nhân vật",
        avatar_url = "https://cdn.discordapp.com/embed/avatars/0.png", -- URL avatar (có thể tùy chỉnh)
        content = string.format("Thông báo từ người chơi: **%s** %s", username, ping), -- Thêm phần ping người chơi
        embeds = {
            {title = "Vị trí nhân vật", type = "rich", color = 1127128, fields = {{ name = "Vị trí hiện tại", value = string.format("X: %.2f, Y: %.2f, Z: %.2f", position.X, position.Y, position.Z), inline = false }
                },
                footer = { text = "Thông báo từ Player Position System", icon_url = "https://cdn.discordapp.com/embed/avatars/0.png" }}
        }
    }
    local response = httpRequest({
        Url = _G.webhookURL,
        Method = "POST",
        Headers = { ["Content-Type"] = "application/json" },
        Body = HttpService:JSONEncode(payload)
    })
    if not response or not response.Success then
        warn("Gửi webhook thất bại.")
    end
end
local player = game.Players.LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()
local humanoidRootPart = character:WaitForChild("HumanoidRootPart")
local currentPos = humanoidRootPart.Position
print("Vị trí hiện tại của nhân vật:", currentPos)
sendPositionWebhook(currentPos, player.Name)
