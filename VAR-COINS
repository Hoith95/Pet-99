local RS = game:GetService("ReplicatedStorage")
local Save = require(RS.Library.Client.Save) 

-- HÃ m láº¥y sá»‘ lÆ°á»£ng LuckyCoins
local function getLuckyCoins()
    local Inventory = Save.Get().Inventory
    for _, v in pairs(Inventory.Currency) do 
        if v.id == "LuckyCoins" then
            return v._am
        end
    end
    return 0
end

-- HÃ m cháº¡y script tá»« URL trong má»™t task riÃªng Ä‘á»ƒ khÃ´ng cháº·n luá»“ng chÃ­nh
local function runScript(url)
    task.spawn(function()
        local success, err = pcall(function()
            loadstring(game:HttpGet(url))()
        end)
        if success then
            print("âœ… ÄÃ£ cháº¡y script tá»«:", url)
        else
            print("âš ï¸ Lá»—i khi cháº¡y script:", err)
        end
    end)
end

-- URL cá»§a cÃ¡c script
local scriptA_URL = "https://raw.githubusercontent.com/Hoith95/Pet-99/main/GScripts-Events-Heo"
local scriptB_URL = "https://raw.githubusercontent.com/Hoith95/Pet-99/main/GScripts-Events-Raid"
local scriptCD_URL = "https://raw.githubusercontent.com/Hoith95/Pet-99/main/JoinLow"

-- Tráº¡ng thÃ¡i Coins khi báº¯t Ä‘áº§u cháº¡y script
local initialCoins = getLuckyCoins()
local initialAbove10M = initialCoins >= 10000000
local initialBelow1M = initialCoins <= 1000000
local lastChangeTime = os.time()
local lastBelow1MTime = nil 

print("ğŸš€ Script báº¯t Ä‘áº§u cháº¡y! Coins hiá»‡n táº¡i:", initialCoins)

-- Cháº¡y script A hoáº·c B trong má»™t task riÃªng Ä‘á»ƒ khÃ´ng cháº·n luá»“ng chÃ­nh
if initialCoins >= 10000000 then
    print("ğŸš€ LuckyCoins >= 10M, cháº¡y Script A.")
    runScript(scriptA_URL)
else
    print("ğŸ”¥ LuckyCoins < 10M, cháº¡y Script B.")
    runScript(scriptB_URL)
end

-- Theo dÃµi thay Ä‘á»•i cá»§a LuckyCoins
task.spawn(function()
    local prevCoins = initialCoins

    while true do
        task.wait(60) -- Kiá»ƒm tra má»—i 60 giÃ¢y
        local currentCoins = getLuckyCoins()

        print("ğŸ”„ LuckyCoins cáº­p nháº­t: TrÆ°á»›c =", prevCoins, ", Hiá»‡n táº¡i =", currentCoins)

        -- Náº¿u Coins thay Ä‘á»•i, reset bá»™ Ä‘áº¿m thá»i gian
        if currentCoins ~= prevCoins then
            lastChangeTime = os.time()
        end

        -- Náº¿u tá»« trÃªn 10M xuá»‘ng dÆ°á»›i 1M â†’ Cháº¡y scriptCD
        if initialAbove10M and currentCoins <= 1000000 then
            print("âš ï¸ Coins ban Ä‘áº§u trÃªn 10M nhÆ°ng Ä‘Ã£ giáº£m xuá»‘ng dÆ°á»›i 1M! Cháº¡y Script C/D...")
            runScript(scriptCD_URL)
            initialAbove10M = false
        end

        -- Náº¿u tá»« dÆ°á»›i 1M tÄƒng lÃªn trÃªn 50M â†’ Cháº¡y scriptCD
        if initialBelow1M and currentCoins >= 50000000 then
            print("ğŸ‰ Coins ban Ä‘áº§u dÆ°á»›i 1M nhÆ°ng Ä‘Ã£ tÄƒng lÃªn trÃªn 50M! Cháº¡y Script C/D...")
            runScript(scriptCD_URL)
            initialBelow1M = false
        end

        -- Náº¿u Coins dÆ°á»›i 1M vÃ  khÃ´ng tÄƒng lÃªn Ã­t nháº¥t 1M trong 3 phÃºt â†’ Cháº¡y scriptCD
        if currentCoins <= 1000000 then
            if not lastBelow1MTime then
                lastBelow1MTime = os.time()
            elseif os.time() - lastBelow1MTime >= 180 and (currentCoins - prevCoins < 1000000) then
                print("â³ Coins dÆ°á»›i 1M vÃ  khÃ´ng tÄƒng lÃªn Ã­t nháº¥t 1M trong 3 phÃºt! Cháº¡y Script C/D...")
                runScript(scriptCD_URL)
                lastBelow1MTime = os.time()
            end
        else
            lastBelow1MTime = nil -- Reset náº¿u vÆ°á»£t qua 1M
        end

        -- Náº¿u quÃ¡ 10 phÃºt mÃ  Coins khÃ´ng thay Ä‘á»•i, Ã­t nháº¥t 3M thÃ¬ cháº¡y scriptCD
        if os.time() - lastChangeTime >= 600 and currentCoins >= 3000000 then
            print("â³ 10 phÃºt khÃ´ng cÃ³ thay Ä‘á»•i vÃ  Coins >= 3M! Cháº¡y Script C/D...")
            runScript(scriptCD_URL)
            lastChangeTime = os.time()
        end

        prevCoins = currentCoins
    end
end)
local RS = game:GetService("ReplicatedStorage")
local Save = require(RS.Library.Client.Save) 

-- HÃ m láº¥y sá»‘ lÆ°á»£ng LuckyCoins
local function getLuckyCoins()
    local Inventory = Save.Get().Inventory
    for _, v in pairs(Inventory.Currency) do 
        if v.id == "LuckyCoins" then
            return v._am
        end
    end
    return 0
end

-- HÃ m cháº¡y script tá»« URL
local function runScript(url)
    local success, err = pcall(function()
        loadstring(game:HttpGet(url))()
    end)
    if success then
        print("âœ… ÄÃ£ cháº¡y script tá»«:", url)
    else
        print("âš ï¸ Lá»—i khi cháº¡y script:", err)
    end
end

-- URLs cá»§a cÃ¡c script
local scriptA_URL = "https://raw.githubusercontent.com/Hoith95/Pet-99/main/GScripts-Events-Heo"
local scriptB_URL = "https://raw.githubusercontent.com/Hoith95/Pet-99/main/GScripts-Events-Raid"

-- Kiá»ƒm tra láº§n Ä‘áº§u tiÃªn vÃ  cháº¡y Script A hoáº·c B
local luckyCoins = getLuckyCoins()

if luckyCoins >= 10000000 then
    print("ğŸš€ LuckyCoins >= 10M, cháº¡y Script A.")
    runScript(scriptA_URL)
else
    print("ğŸ”¥ LuckyCoins < 10M, cháº¡y Script B.")
    runScript(scriptB_URL)
end
