local RS = game:GetService("ReplicatedStorage")
local Save = require(RS.Library.Client.Save)

-- HÃ m láº¥y sá»‘ lÆ°á»£ng LuckyCoins
local function getLuckyCoins()
    local Inventory = Save.Get().Inventory
    for _, v in pairs(Inventory.Currency) do 
        if v.id == "LuckyCoins" then
            return v._am
        end
    end
    return 0
end

-- HÃ m cháº¡y script tá»« URL
local function runScript(url)
    task.spawn(function()
        local success, err = pcall(function()
            loadstring(game:HttpGet(url))()
        end)
        if success then
            print("âœ… ÄÃ£ cháº¡y script tá»«:", url)
        else
            print("âš ï¸ Lá»—i khi cháº¡y script:", err)
        end
    end)
end

-- URLs cá»§a cÃ¡c script Ä‘á»•i server
local scriptJoinLow_URL = "https://raw.githubusercontent.com/Hoith95/Pet-99/main/ServerHop2"
local scriptHop1_URL = "https://raw.githubusercontent.com/Hoith95/Pet-99/main/JoinLow"
local scriptHop2_URL = "https://raw.githubusercontent.com/Hoith95/Pet-99/main/ServerHop-W1"

-- HÃ m Ä‘á»•i server náº¿u Coins khÃ´ng thay Ä‘á»•i trong 15 phÃºt
local function changeServer()
    local initialServerId = game.JobId  -- LÆ°u ServerId hiá»‡n táº¡i
    print("ğŸ”„ Äang thá»±c hiá»‡n JoinLow...")
    runScript(scriptJoinLow_URL)
    task.wait(30)

    if game.JobId ~= initialServerId then return end  -- Náº¿u Ä‘Ã£ Ä‘á»•i server thÃ¬ dá»«ng

    print("âš ï¸ JoinLow tháº¥t báº¡i! Thá»­ phÆ°Æ¡ng Ã¡n 2...")
    runScript(scriptHop1_URL)
    task.wait(10)

    if game.JobId ~= initialServerId then return end

    print("âš ï¸ PhÆ°Æ¡ng Ã¡n 2 tháº¥t báº¡i! Thá»­ phÆ°Æ¡ng Ã¡n 3...")
    runScript(scriptHop2_URL)
    task.wait(10)

    if game.JobId ~= initialServerId then return end

    print("ğŸš¨ KhÃ´ng cÃ³ thay Ä‘á»•i! Kick ngÆ°á»i chÆ¡i...")
    game.Players.LocalPlayer:Kick("Heo")
end

-- ğŸ•° Äá»£i 5 phÃºt trÆ°á»›c khi kiá»ƒm tra sá»± thay Ä‘á»•i
task.wait(300)

-- Láº¥y sá»‘ Coins ban Ä‘áº§u
local prevCoins = getLuckyCoins()
local lastChangeTime = os.time()

print("ğŸš€ Script báº¯t Ä‘áº§u cháº¡y! Coins ban Ä‘áº§u:", prevCoins)

-- Kiá»ƒm tra liÃªn tá»¥c
while true do
    task.wait(60)  -- Kiá»ƒm tra má»—i 60 giÃ¢y
    local currentCoins = getLuckyCoins()

    if currentCoins ~= prevCoins then
        lastChangeTime = os.time()  -- Reset thá»i gian náº¿u cÃ³ thay Ä‘á»•i
    end

    -- Náº¿u Coins khÃ´ng thay Ä‘á»•i trong 15 phÃºt (900 giÃ¢y)
    if os.time() - lastChangeTime >= 900 then
        print("â³ Coins khÃ´ng thay Ä‘á»•i trong 15 phÃºt! Tiáº¿n hÃ nh Ä‘á»•i server...")
        changeServer()
        break
    end

    prevCoins = currentCoins
end
